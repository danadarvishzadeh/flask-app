2022-01-01 09:09:27,764 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 258, in create_invitations
    return invitation_schema.dumps(invitation)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 577, in dumps
    serialized = self.dump(obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 552, in dump
    result = self._serialize(processed_obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 520, in _serialize
    value = field_obj.serialize(attr_name, obj, accessor=self.get_attribute)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 339, in serialize
    return self._serialize(value, attr, obj, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 625, in _serialize
    return schema.dump(nested_obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 555, in dump
    result = self._invoke_dump_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1063, in _invoke_dump_processors
    data = self._invoke_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1220, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/schemas.py", line 154, in load_followed_by
    followed_by = [summerised_user_schema.dump(User.query.get(f.follower_id)) for f in data['followed_by']]
KeyError: 'followed_by'

2022-01-01 09:09:53,911 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 258, in create_invitations
    return invitation_schema.dumps(invitation)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 577, in dumps
    serialized = self.dump(obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 552, in dump
    result = self._serialize(processed_obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 520, in _serialize
    value = field_obj.serialize(attr_name, obj, accessor=self.get_attribute)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 339, in serialize
    return self._serialize(value, attr, obj, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 625, in _serialize
    return schema.dump(nested_obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 555, in dump
    result = self._invoke_dump_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1063, in _invoke_dump_processors
    data = self._invoke_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1220, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/schemas.py", line 154, in load_followed_by
    followed_by = [summerised_user_schema.dump(User.query.get(f.follower_id)) for f in data['followed_by']]
KeyError: 'followed_by'

2022-01-01 09:16:22,205 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 226, in create_posts
    return post_schema.dumps(post)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 577, in dumps
    serialized = self.dump(obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 552, in dump
    result = self._serialize(processed_obj, many=many)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 520, in _serialize
    value = field_obj.serialize(attr_name, obj, accessor=self.get_attribute)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 339, in serialize
    return self._serialize(value, attr, obj, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 621, in _serialize
    schema = self.schema
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/fields.py", line 569, in schema
    nested = self.nested()
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/schemas.py", line 170, in <lambda>
    parent_discussion = Nested(lambda: DiscussionSchema(exclude=('posts', 'author')))
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 45, in __init__
    super().__init__(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 397, in __init__
    self._init_fields()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 974, in _init_fields
    raise ValueError(message)
ValueError: Invalid fields for <DiscussionSchema(many=False)>: {'author'}.

2022-01-01 11:20:26,624 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 26, in create_users
    user = create_user_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 844, in _do_load
    processed_data = self._invoke_load_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1090, in _invoke_load_processors
    data = self._invoke_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1220, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/schemas.py", line 29, in lower_case
    data['username'] = data['username'].lower()
TypeError: 'NoneType' object is not subscriptable

2022-01-01 11:23:23,939 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 26, in create_users
    user = create_user_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 844, in _do_load
    processed_data = self._invoke_load_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1090, in _invoke_load_processors
    data = self._invoke_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1220, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/schemas.py", line 29, in lower_case
    data['username'] = data['username'].lower()
TypeError: 'NoneType' object is not subscriptable

2022-01-01 12:41:37,414 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 836, in commit
    trans.commit()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2361, in commit
    self._do_commit()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2551, in _do_commit
    self._connection_commit_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2522, in _connection_commit_impl
    self.connection._commit_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1000, in _commit_impl
    self._handle_dbapi_exception(e, None, None, None, None)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2030, in _handle_dbapi_exception
    util.raise_(exc_info[1], with_traceback=exc_info[2])
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 998, in _commit_impl
    self.engine.dialect.do_commit(self.connection)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 685, in do_commit
    dbapi_connection.commit()
KeyboardInterrupt

2022-01-01 12:41:37,596 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 836, in commit
    trans.commit()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2361, in commit
    self._do_commit()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2567, in _do_commit
    self.connection._invalid_transaction()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 537, in _invalid_transaction
    raise exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: Can't reconnect until invalid transaction is rolled back. (Background on this error at: https://sqlalche.me/e/14/8s2b)

2022-01-01 12:46:18,217 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 26, in create_users
    user = create_user_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 892, in _do_load
    result = self._invoke_load_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1090, in _invoke_load_processors
    data = self._invoke_processors(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 1220, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 78, in make_instance
    instance = self.opts.model(**kwargs)
  File "<string>", line 4, in __init__
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/state.py", line 480, in _initialize_instance
    manager.dispatch.init_failure(self, args, kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/state.py", line 477, in _initialize_instance
    return manager.original_init(*mixed[1:], **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/decl_base.py", line 1157, in _declarative_constructor
    setattr(self, k, kwargs[k])
  File "/home/dana/Documents/learning/flask_tutorial/discussion/models.py", line 73, in password
    self.password_hash = generate_password_hash(password)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/werkzeug/security.py", line 200, in generate_password_hash
    h, actual_method = _hash_internal(method, salt, password)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/werkzeug/security.py", line 162, in _hash_internal
    hashlib.pbkdf2_hmac(method, password, salt, iterations).hex(),
KeyboardInterrupt

2022-01-01 13:07:56,564 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: user

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$kTc0H1kaCzgaHhA6$a04dcb4e8ecd2e5104bdbd6377204fa59b99c8fe6deb69eff2120a98e8b9d418')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

2022-01-01 13:07:56,716 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 827, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 601, in _assert_active
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$kTc0H1kaCzgaHhA6$a04dcb4e8ecd2e5104bdbd6377204fa59b99c8fe6deb69eff2120a98e8b9d418')]
(Background on this error at: https://sqlalche.me/e/14/e3q8) (Background on this error at: https://sqlalche.me/e/14/7s2a)

2022-01-01 13:08:39,493 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: user

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$mbsfflbd4jDw6S9P$4b07a0f02ac577ad3fd83fecaf3d536cbf89f0af659e45aaebbdca7092fdd44f')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

2022-01-01 13:08:39,657 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 827, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 601, in _assert_active
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$mbsfflbd4jDw6S9P$4b07a0f02ac577ad3fd83fecaf3d536cbf89f0af659e45aaebbdca7092fdd44f')]
(Background on this error at: https://sqlalche.me/e/14/e3q8) (Background on this error at: https://sqlalche.me/e/14/7s2a)

2022-01-01 13:09:19,649 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: user

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$z2FygMlu5yCHyynW$fc22f05f494a2d5df6023272d8d26e16a72eb6b08858b5353a226c6bbf63b35a')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

2022-01-01 13:09:19,804 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 827, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 601, in _assert_active
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$z2FygMlu5yCHyynW$fc22f05f494a2d5df6023272d8d26e16a72eb6b08858b5353a226c6bbf63b35a')]
(Background on this error at: https://sqlalche.me/e/14/e3q8) (Background on this error at: https://sqlalche.me/e/14/7s2a)

2022-01-01 13:09:34,309 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: user

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$IoR3B1N7wrxxUxD7$f65bfb44785464770236d8f063904152ba10ab0dd5bb141de7227e5d7759f54d')]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

2022-01-01 13:09:34,461 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 35, in create_users
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 827, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 601, in _assert_active
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (sqlite3.OperationalError) no such table: user
[SQL: INSERT INTO user (username, email, name, lastname, password_hash) VALUES (?, ?, ?, ?, ?)]
[parameters: ('dana', 'dana@dana.com', 'dana', 'danaplastiki', 'pbkdf2:sha256:260000$IoR3B1N7wrxxUxD7$f65bfb44785464770236d8f063904152ba10ab0dd5bb141de7227e5d7759f54d')]
(Background on this error at: https://sqlalche.me/e/14/e3q8) (Background on this error at: https://sqlalche.me/e/14/7s2a)

2022-01-01 13:38:22,022 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 139, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 145, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:38:25,198 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:38:16.721849', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:38:28,460 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 224, in create_posts
    post = create_post_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'body': ['Missing data for required field.'], 'title': ['Unknown field.'], 'description': ['Unknown field.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 231, in create_posts
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:39:25,146 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 139, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 145, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:39:28,053 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:39:19.951074', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:39:31,130 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 224, in create_posts
    post = create_post_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'body': ['Missing data for required field.'], 'title': ['Unknown field.'], 'description': ['Unknown field.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 73, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 231, in create_posts
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:40:20,721 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 139, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'description': ['Not a valid string.'], 'title': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 145, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:40:23,642 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:40:15.988957', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:40:26,625 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 224, in create_posts
    post = create_post_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'body': ['Missing data for required field.'], 'description': ['Unknown field.'], 'title': ['Unknown field.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 231, in create_posts
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:41:20,723 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 139, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 145, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:41:23,820 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:41:15.451084', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:41:26,731 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 244, in create_posts
    raise ResourceDoesNotExists()
discussion.blueprints.api.errors.ResourceDoesNotExists: 400 Bad Request: None

2022-01-01 13:41:45,152 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 139, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 145, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:41:48,506 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:41:39.763062', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:45:13,986 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 138, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 144, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:45:17,016 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:45:08.789048', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 147, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:45:19,942 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 112, in edit_discussion_detail
    discussion.update(dict(data))
AttributeError: 'Discussion' object has no attribute 'update'

2022-01-01 13:45:19,943 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 112, in edit_discussion_detail
    discussion.update(dict(data))
AttributeError: 'Discussion' object has no attribute 'update'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 120, in edit_discussion_detail
    raise InvalidAttemp()
discussion.blueprints.api.errors.InvalidAttemp: 500 Internal Server Error: None

2022-01-01 13:46:57,043 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 138, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 144, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:47:00,025 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:46:51.805667', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 147, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:54:40,527 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 138, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'title': ['Not a valid string.'], 'description': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 144, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:54:43,614 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:54:35.217731', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:56:46,179 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 138, in create_discussions
    discussion = create_discussion_schema.load(req_json)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow_sqlalchemy/load_instance_mixin.py", line 96, in load
    return super().load(data, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 719, in load
    return self._do_load(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/marshmallow/schema.py", line 904, in _do_load
    raise exc
marshmallow.exceptions.ValidationError: {'description': ['Not a valid string.'], 'title': ['Not a valid string.']}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 144, in create_discussions
    raise JsonValidationError(e)
discussion.blueprints.api.errors.JsonValidationError: 400 Bad Request: None

2022-01-01 13:56:49,131 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:56:40.996191', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 13:59:51,039 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 13:59:48.565131', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:01:09,111 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:01:06.769249', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:01:57,174 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussin description', '2022-01-01 14:01:50.109276', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:02:27,990 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:02:25.697417', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:03:34,907 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:03:32.524481', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:06:56,948 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 141, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:06:54.555298', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 148, in create_discussions
    raise JsonIntegrityError()
discussion.blueprints.api.errors.JsonIntegrityError: 400 Bad Request: None

2022-01-01 14:09:25,785 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 155, in create_discussions
    raise(e)
UnboundLocalError: local variable 'e' referenced before assignment

2022-01-01 14:09:43,443 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 155, in create_discussions
    raise(x)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:09:41.195386', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2022-01-01 14:10:55,357 [ERROR] auth: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 156, in create_discussions
    raise(x)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:10:52.927575', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2022-01-01 14:12:15,534 [ERROR] auth: uncaught fffff exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: discussion.title, discussion.creator_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/auth/views.py", line 74, in decorator
    return f(*args, **kwargs)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 156, in create_discussions
    raise(x)
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 142, in create_discussions
    db.session.commit()
  File "<string>", line 2, in commit
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/home/dana/Documents/learning/flask_tutorial/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: discussion.title, discussion.creator_id
[SQL: INSERT INTO discussion (title, description, date_created, creator_id) VALUES (?, ?, ?, ?)]
[parameters: ('dana first discussion', 'first discussion description', '2022-01-01 14:12:12.948249', 1)]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2022-01-01 15:13:22,972 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 194, in edit_post_details
    post.update(dict(data))
AttributeError: 'Post' object has no attribute 'update'

2022-01-01 15:32:34,384 [ERROR] api: uncaught exception: Traceback (most recent call last):
  File "/home/dana/Documents/learning/flask_tutorial/discussion/blueprints/api/views.py", line 298, in edit_invitation_details
    invitation.query.update(status=status)
TypeError: update() got an unexpected keyword argument 'status'

